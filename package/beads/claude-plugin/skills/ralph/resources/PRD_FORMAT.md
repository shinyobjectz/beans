# PRD Format

Project Requirements Document schema used by Ralph.

## JSON Schema

```json
{
  "project": "Feature name",
  "goal": "High-level objective",
  "context": {
    "codebase": "Brief description of relevant code areas",
    "constraints": ["List of technical constraints"],
    "references": ["URLs or docs consulted"]
  },
  "stories": [
    {
      "id": "STORY-1",
      "title": "Story title",
      "description": "What needs to be done",
      "acceptance": ["Acceptance criteria"],
      "tasks": [
        "Specific implementation task 1",
        "Specific implementation task 2"
      ]
    }
  ],
  "testing": {
    "unit": ["Unit test requirements"],
    "integration": ["Integration test requirements"]
  },
  "notes": "Additional context or warnings"
}
```

## Example

```json
{
  "project": "Add brand comparison feature",
  "goal": "Allow users to compare two brands side-by-side",
  "context": {
    "codebase": "Jibe frontend (SvelteKit), brands domain in convex/features/brands/",
    "constraints": ["Must use existing brand data model", "Real-time updates via Convex"],
    "references": ["https://jibe.app/brands"]
  },
  "stories": [
    {
      "id": "STORY-1",
      "title": "Comparison UI component",
      "description": "Create side-by-side brand comparison view",
      "acceptance": [
        "Shows two brand cards side by side",
        "Highlights differences in key metrics",
        "Responsive on mobile"
      ],
      "tasks": [
        "Create BrandComparison.svelte component",
        "Add comparison route /brands/compare",
        "Style with existing design system"
      ]
    }
  ],
  "testing": {
    "unit": ["Test metric diff calculation"],
    "integration": ["Test comparison page loads with two brands"]
  },
  "notes": "Check existing ProductCard.svelte for styling reference"
}
```

## Generation

PRD is generated by `scripts/ralph/generate-prd.ts` using:
- **Model**: Gemini 2.5 Pro via OpenRouter
- **Plugin**: Exa for web research
- **Input**: Beads issue title + description
